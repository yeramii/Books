## Boundaries

오픈 소스, 외부 패키지 등의 외부 코드를 우리 코드에 깔끔하게 통합하는 방법에 대해 살펴본다.

<br>

#### 새로운 클래스로 외부 코드와의 경계를 감싸자

* 외부 인터페이스를 이용할 때, 시스템 전반에 걸쳐 돌려가며 사용하면 인터페이스가 변할 경우 수정할 코드가 많아진다.
* 따라서 경계 인터페이스의 인스턴스는 이를 이용하는 클래스나 클래스 계열 밖으로 노출되지 않도록 주의해야 한다.
* 새로운 클래스로 경계 인터페이스를 래핑(-> 캡슐화)하면 해당 클래스 안에서 객체 유형을 관리하고 변환하기 때문에 인터페이스의 변경에 따른 영향을 통제할 수 있다.
  * 해당 객체를 사용하는 클래스 내부에 넣던지 가까운 계열의 클래스에 넣자.

<br>

#### Learning Tests 로 경계를 익히자

* Learning Tests 란 간단한 테스트 케이스를 작성해 외부 코드를 익히는 테스트로, 투자한 노력 대비 얻는 성과가 크다.
* 사용하려는 목적에 초점을 맞추어 필요한 기능을 test에 구현함으로써,  외부 API를 요구되는 만큼 이해할 수 있다. 
* 패키지가 예상대로 도는지 검증하기 때문에, 우리 코드가 패키지의 새 버전과 호환되는지 확인하기 쉽다.

<br>

#### 아직 존재하지 않는 코드 사용하기

* 자체적으로 원하는 기능을 제공하는 인터페이스를 정의하여 사용한다.
* 존재하지 않던 코드가 정의된 후에는 Adapter를 구현해 API와 우리의 인터페이스 간의 간극을 메운다.
* API를 캡슐화해서 사용하기 때문에 API가 바뀔 때 수정할 코드는 Adapter에만 한정된다.

- Adapter Pattern : 클래스의 인터페이스를 사용자가 기대하는 다른 인터페이스로 변환하는 패턴으로, 호환성이 없는 인터페이스 때문에 함께 동작할 수 없는 클래스들이 함께 작동하도록 해준다.
  - 기존의 클래스를 건드리지 않고 다른 상황에 맞게 개조하여 사용할 때 유용
  - 예) 한국 표준인 220V 의 전기장치를 110V 가 표준인 일본에서 사용하기 위해 돼지코 변환기(Adapter)를 사용

<br>

#### Clean Boundaries

우리가 통제하지 못하는 외부 코드나 모르는 코드를 사용할 때는 향후 변경 비용이 지나치게 커지지 않도록 신경써야 한다. 경계에 위치하는 코드는 깔끔히 분리하고 외부 패키지를 호출하는 코드를 최소한으로 해 경계를 관리하자. 통제가 불가능한 것 보다는 통제가 가능한 우리 코드에 의존하는 편이 훨씬 좋다. 

<br>

##### [참고] Logging

* 로깅은 어떤 소프트웨어가 실행될 때 발생하는 이벤트를 추적하는 수단입니다. 소프트웨어 개발자는 코드에 로깅 호출을 추가하여 특정 이벤트가 발생했음을 나타냅니다. 이벤트는 선택적으로 가변 데이터 (즉, 이벤트 발생마다 잠재적으로 다른 데이터)를 포함할 수 있는 설명 메시지로 기술됩니다. 이벤트는 또한 개발자가 이벤트에 부여한 중요도를 가지고 있습니다; 중요도는 *수준(level)* 또는 *심각도(severity)* 라고도 부를 수 있습니다.
  * 출처: https://docs.python.org/ko/3/howto/logging.html
* 현재 우리의 프로그램이 어떤 상태를 가지고 있는지, 외부 출력을 하게 만들어서 눈으로 직접 확인하는 것이다.
* `print`를 통해 콘솔로 출력하는 방법이 가장 쉽고 편하지만, 파일로의 출력 등 좀 더 다양한 기능을 사용하고 싶을 때 로깅시스템을 따로 만들거나, 기존에 구축된 라이브러리를 가져와서 사용한다.

<br>



